<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì œì£¼ 1ë°• 2ì¼ ë§ˆìŠ¤í„°í”¼ìŠ¤ (V10)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- ì§€ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;700;800;900&display=swap');
        
        :root { --primary: #0F766E; --bg: #F8FAFC; --accent: #F59E0B; }
        body { font-family: 'Pretendard', sans-serif; background-color: var(--bg); color: #334155; padding-bottom: 100px; margin: 0; -webkit-tap-highlight-color: transparent; }
        
        /* 1. ì§€ë„ ê³ ì • ì˜ì—­ (ìƒë‹¨ 35%) */
        #map-wrapper { position: fixed; top: 0; left: 0; right: 0; height: 35vh; z-index: 0; }
        #map { width: 100%; height: 100%; }

        /* 2. ìƒë‹¨ í”Œë¡œíŒ… ìœ„ì ¯ (ë‚ ì”¨ & D-Day) */
        .floating-header {
            position: fixed; top: 0; left: 0; width: 100%; z-index: 50;
            padding: 12px 16px; display: flex; justify-content: space-between; align-items: flex-start;
            pointer-events: none;
        }
        
        .app-title-box { pointer-events: auto; }
        .d-day-badge {
            background: var(--accent); color: white; font-weight: 900; font-size: 0.85rem;
            padding: 6px 12px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            display: inline-block; text-shadow: 0 1px 2px rgba(0,0,0,0.1); margin-bottom: 4px;
        }
        .app-title { 
            font-size: 1.2rem; font-weight: 900; color: white; 
            text-shadow: 0 2px 4px rgba(0,0,0,0.7); 
        }

        /* ë‚ ì”¨ ìœ„ì ¯ (ìš°ì¸¡ ìƒë‹¨) */
        .weather-card {
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            padding: 10px 14px; border-radius: 16px; 
            color: #334155; box-shadow: 0 4px 15px rgba(0,0,0,0.15); 
            pointer-events: auto; text-align: right; border: 1px solid rgba(255,255,255,0.8);
            min-width: 140px;
        }
        .weather-main { font-size: 1.1rem; font-weight: 800; color: #0F766E; display: flex; align-items: center; justify-content: flex-end; gap: 6px; }
        .weather-sub { font-size: 0.75rem; color: #64748B; font-weight: 600; margin-top: 2px; }
        .forecast-row { font-size: 0.7rem; color: #475569; margin-top: 6px; padding-top: 6px; border-top: 1px dashed #CBD5E1; line-height: 1.4; }

        /* 3. ë©”ì¸ ì»¨í…ì¸  (Bottom Sheet) */
        .content-sheet { 
            position: relative; z-index: 10; margin-top: 32vh; 
            background: #F8FAFC; min-height: 70vh;
            border-top-left-radius: 24px; border-top-right-radius: 24px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
            padding: 24px 16px 100px 16px;
        }

        /* ìš”ì•½ ì •ë³´ ë°” */
        .info-bar {
            background: white; padding: 16px 20px; border-radius: 16px; margin-bottom: 20px;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.03); border: 1px solid #E2E8F0;
        }

        /* íƒ€ì„ë¼ì¸ ìŠ¤íƒ€ì¼ */
        .timeline-group { margin-bottom: 30px; }
        .day-header { 
            position: sticky; top: 0; background: rgba(248,250,252,0.98); 
            backdrop-filter: blur(5px); z-index: 30; padding: 15px 0;
            font-size: 1.1rem; font-weight: 800; color: #1E293B; 
            border-bottom: 2px solid var(--primary); margin-bottom: 20px;
            display: flex; align-items: center; justify-content: space-between;
        }
        
        .timeline-item { display: flex; position: relative; padding-bottom: 24px; }
        .timeline-item:last-child { padding-bottom: 0; }
        
        .tl-time-col { width: 55px; text-align: right; padding-right: 12px; flex-shrink: 0; }
        .tl-time { font-weight: 800; font-size: 0.95rem; color: #334155; display: block; margin-top: -3px; }
        
        .tl-line-col { width: 24px; display: flex; flex-direction: column; align-items: center; position: relative; }
        .tl-dot { width: 14px; height: 14px; border-radius: 50%; background: #CBD5E1; border: 3px solid white; box-shadow: 0 0 0 1px #CBD5E1; z-index: 2; }
        .tl-line { width: 2px; background: #E2E8F0; flex-grow: 1; margin-top: 4px; margin-bottom: 4px; }
        
        .tl-content { flex: 1; }
        .place-card {
            background: white; border: 1px solid #E2E8F0; border-radius: 16px; 
            padding: 16px; box-shadow: 0 2px 5px rgba(0,0,0,0.03);
            position: relative; transition: all 0.2s;
        }
        .place-card:active { transform: scale(0.98); background: #F8FAFC; }
        
        /* í˜„ì¬ ìœ„ì¹˜ í•˜ì´ë¼ì´íŠ¸ (ê°•ì¡°) */
        .active-now .tl-dot { background: #EF4444; box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.3); transform: scale(1.3); }
        .active-now .tl-time { color: #EF4444; }
        .active-now .place-card { border: 2px solid #EF4444; background: #FEF2F2; box-shadow: 0 4px 15px rgba(239, 68, 68, 0.15); }
        .active-now .place-card::before {
            content: 'ì§„í–‰ì¤‘'; position: absolute; top: 0; right: 0;
            background: #EF4444; color: white; font-size: 0.65rem; font-weight: 800;
            padding: 3px 10px; border-bottom-left-radius: 10px; z-index: 5;
        }
        
        .place-title { font-weight: 800; font-size: 1.05rem; color: #1E293B; margin-bottom: 4px; display: flex; justify-content: space-between; align-items: center; }
        .place-desc { font-size: 0.9rem; color: #475569; margin-bottom: 8px; line-height: 1.5; }
        .expert-tip { background: #EFF6FF; border-left: 3px solid #3B82F6; padding: 8px 12px; font-size: 0.85rem; color: #1E40AF; border-radius: 0 8px 8px 0; margin-top: 8px; line-height: 1.5; }
        
        /* ì´ë™ ì •ë³´ */
        .move-badge {
            display: inline-flex; align-items: center; gap: 6px;
            font-size: 0.75rem; font-weight: 700; color: #64748B;
            background: #F1F5F9; padding: 4px 10px; border-radius: 20px;
            border: 1px solid #E2E8F0; margin: 4px 0 12px 79px;
        }

        /* 4. ìƒì„¸ ì •ë³´ ì¹´ë“œ */
        .info-card { background: white; border-radius: 16px; padding: 20px; margin-bottom: 16px; border: 1px solid #E2E8F0; box-shadow: 0 2px 8px rgba(0,0,0,0.03); }
        .tag { display: inline-block; font-size: 0.7rem; font-weight: 800; padding: 4px 8px; border-radius: 6px; margin-bottom: 8px; }
        .tag-meal { background: #FFF7ED; color: #C2410C; }
        .tag-cafe { background: #FAF5FF; color: #7E22CE; }
        .tag-tour { background: #F0FDF4; color: #15803D; }
        
        /* ìŠ¤ë§ˆíŠ¸ ë²„íŠ¼ */
        .btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 12px; }
        .btn-action { text-align: center; padding: 12px; border-radius: 10px; font-size: 0.85rem; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 6px; text-decoration: none; transition: all 0.1s; }
        .btn-green { background: #03C75A; color: white; border: 1px solid #02b351; }
        .btn-outline { border: 1px solid #CBD5E1; color: #334155; background: white; }
        .btn-action:active { transform: scale(0.96); }
        
        /* ê¸¸ì°¾ê¸° ë²„íŠ¼ */
        .btn-navi { font-size: 0.75rem; background: #0F766E; color: white; padding: 5px 10px; border-radius: 6px; text-decoration: none; display: flex; align-items: center; gap: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }

        /* ê¿€íŒ ì•„ì½”ë””ì–¸ */
        .guide-card { background: white; border: 1px solid #E2E8F0; border-radius: 12px; overflow: hidden; margin-bottom: 12px; }
        .guide-header { padding: 16px; background: white; display: flex; align-items: center; justify-content: space-between; font-weight: 800; color: #1E293B; cursor: pointer; border-left: 6px solid var(--primary); }
        .guide-body { padding: 0 16px 16px 16px; font-size: 0.9rem; color: #475569; line-height: 1.7; display: none; border-top: 1px dashed #E2E8F0; margin-top: -8px; padding-top: 16px; background: #FAFAFA; }
        .guide-body.open { display: block; }
        .guide-body ul { list-style: none; padding: 0; margin: 0; margin-top: 12px; }
        .guide-body li { margin-bottom: 10px; position: relative; padding-left: 14px; }
        .guide-body li::before { content: "â€¢"; position: absolute; left: 0; color: var(--primary); font-weight: bold; }
        .guide-icon { font-size: 1.2rem; color: var(--primary); margin-right: 10px; width: 24px; text-align: center; }

        /* ê²½ë¹„ í…Œì´ë¸” */
        .cost-table { width: 100%; font-size: 0.9rem; margin-bottom: 12px; }
        .cost-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px dashed #E2E8F0; font-size: 0.9rem; }
        .cost-row:last-child { border-bottom: none; }
        .cost-total { background: #F0FDFA; padding: 16px; border-radius: 12px; display: flex; justify-content: space-between; font-weight: 900; color: #0F766E; margin-top: 16px; font-size: 1.1rem; }
        
        .check-item { display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border-radius: 10px; margin-bottom: 8px; cursor: pointer; border: 1px solid #E2E8F0; transition: all 0.2s; }
        .check-item.checked { opacity: 0.5; background: #F1F5F9; }
        .check-item.checked span { text-decoration: line-through; color: #94A3B8; }
        .check-item i { color: #CBD5E1; font-size: 1.2rem; }
        .check-item.checked i { color: var(--primary); }

        /* 5. í•˜ë‹¨ íƒ­ë°” */
        .nav-bar { 
            position: fixed; bottom: 0; left: 0; width: 100%; 
            background: rgba(255,255,255,0.98); border-top: 1px solid #E2E8F0; 
            display: flex; justify-content: space-around; padding: 10px 0 24px 0; 
            z-index: 100; box-shadow: 0 -4px 10px rgba(0,0,0,0.05); 
        }
        .nav-item { text-align: center; font-size: 0.7rem; color: #94A3B8; width: 25%; cursor: pointer; }
        .nav-item i { font-size: 1.4rem; margin-bottom: 4px; display: block; }
        .nav-item.active { color: var(--primary); font-weight: 800; color: var(--primary); }

        .hidden { display: none; }
    </style>
</head>
<body>


    <!-- 1. ì§€ë„ ë° ìƒë‹¨ ê³ ì • ìœ„ì ¯ -->
    <div id="map-container">
        <!-- ì§€ë„ -->
 	<div id="map-wrapper">
    	     <div id="map"></div>
   	</div>
        <div class="floating-header">
            <div class="app-title-box">
                <div id="d-day" class="d-day-badge">D-DAY</div>
                <div class="app-title">ì œì£¼ ë§ˆìŠ¤í„° V10</div>
            </div>
            <!-- ë‚ ì”¨ ìœ„ì ¯ -->
            <div id="weather-widget" class="weather-card">
                <div class="weather-row">
                    <span id="weather-icon"><i class="fas fa-sync fa-spin"></i></span>
                    <span id="weather-temp" class="weather-main">ë¡œë”©ì¤‘</span>
                </div>
                <div id="weather-detail" class="weather-sub">ë°ì´í„° ìˆ˜ì‹ ì¤‘...</div>
                <div class="forecast-row">
                    <div>27(ëª©): <i class="fas fa-sun text-orange-400"></i> 12Â°/18Â°</div>
                    <div>28(ê¸ˆ): <i class="fas fa-cloud text-slate-400"></i> 11Â°/17Â°</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 2. ë©”ì¸ ì»¨í…ì¸  (Bottom Sheet) -->
    <div class="content-sheet">
        <!-- ìš”ì•½ ì •ë³´ ë°” -->
        <div class="info-bar">
            <div>
                <span class="block text-xs text-slate-400 font-bold uppercase tracking-wider">Current Status</span>
                <div class="text-lg font-black text-slate-800">ì—¬í–‰ ì§„í–‰ ìƒí™©</div>
            </div>
            <div class="text-right">
                <div class="text-2xl font-black text-slate-800 font-mono" id="clock">00:00</div>
                <div class="text-xs text-slate-500 font-bold" id="date">2025.11.20 (ëª©)</div>
            </div>
        </div>

        <!-- íƒ­ ì»¨í…ì¸  -->
        <div id="tab-content"></div>
    </div>

    <!-- 3. í•˜ë‹¨ íƒ­ -->
    <div class="nav-bar">
        <div class="nav-item active" onclick="switchTab('timeline', this)">
            <i class="fas fa-stream"></i> íƒ€ì„ë¼ì¸
        </div>
        <div class="nav-item" onclick="switchTab('food', this)">
            <i class="fas fa-map-marked-alt"></i> í”Œë ˆì´ìŠ¤
        </div>
        <div class="nav-item" onclick="switchTab('tips', this)">
            <i class="fas fa-book-open"></i> ê¿€íŒë°±ê³¼
        </div>
        <div class="nav-item" onclick="switchTab('cost', this)">
            <i class="fas fa-file-invoice-dollar"></i> ê²½ë¹„/ì²´í¬
        </div>
    </div>

    <script>
        // =========================================
        // 1. ë§ˆìŠ¤í„° ë°ì´í„° (Master Data)
        // =========================================
        const SCHEDULE = [
            // Day 0
            { day: 0, time: "D-1", title: "ì—¬í–‰ ì „ë‚  ì²´í¬", desc: "ì‹ ë¶„ì¦(ì „ì›), ë©´í—ˆì¦, í…Œì´ë¸”ë§ ì•± ì¹´ë“œë“±ë¡ í™•ì¸", lat: 36.35, lng: 127.38, type: "prep", dist: "-", dur: "-" , detail: "í…Œì´ë¸”ë§ í˜ì´ ë“±ë¡ ì•ˆí•˜ë©´ ë‚´ì¼ ì—°ëˆ ì˜ˆì•½ ì‹¤íŒ¨í•¨!" },
            // Day 1
            { day: 1, time: "04:50", title: "ëŒ€ì „ ì§‘ ì¶œë°œ", desc: "ê°€ìŠ¤ ì ê¸ˆ í™•ì¸. ì²­ì£¼ê³µí•­ê¹Œì§€ 1ì‹œê°„.", lat: 36.3504, lng: 127.4370, type: "move", navi: "ì²­ì£¼êµ­ì œê³µí•­", dist: "45km", dur: "50ë¶„", detail: "ì œ2ì£¼ì°¨ì¥ ìœ„ì¹˜ ë¯¸ë¦¬ íŒŒì•…" },
            { day: 1, time: "05:40", title: "ì²­ì£¼ê³µí•­ ë„ì°©", desc: "ì£¼ì°¨ í›„ 2ì¸µ ì´ë™. ë°”ì´ì˜¤ ë“±ë¡ì¤„ ì´ìš©.", lat: 36.7166, lng: 127.4991, type: "fixed", dist: "-", dur: "-" , detail: "ì‹ ë¶„ì¦ ë¯¸ë¦¬ êº¼ë‚´ë‘ê¸°" },
            { day: 1, time: "06:10", title: "ìˆ˜ì† ë§ˆê°", desc: "ì´ìŠ¤íƒ€í•­ê³µ íƒ‘ìŠ¹. ìˆ˜ì†ë§ˆê°  ZE711 (06:50 ì¶œë°œ). ëŠ¦ìœ¼ë©´ íƒ‘ìŠ¹ ë¶ˆê°€.", lat: 36.7166, lng: 127.4991, type: "fixed", dist: "-", dur: "-", detail: "ê¸°ë‚´ì—ì„œ ê¿€ì  ìê¸°" },
            { day: 1, time: "08:00", title: "ì œì£¼ê³µí•­ & ì˜ì¹´", desc: "5ë²ˆ ê²Œì´íŠ¸ ê±´ë„ˆí¸ ë Œí„°ì¹´í•˜ìš°ìŠ¤ **[5êµ¬ì—­ 12ë²ˆ]**", lat: 33.5104, lng: 126.4913, type: "move", navi: "ì œì£¼êµ­ì œê³µí•­ë Œí„°ì¹´í•˜ìš°ìŠ¤", dist: "ë„ë³´", dur: "10ë¶„" , detail: "ì°¨ëŸ‰ ì™¸ê´€/íœ  ë™ì˜ìƒ ì´¬ì˜ í•„ìˆ˜" },
            { day: 1, time: "09:00", title: "ìë§¤êµ­ìˆ˜ (ì•„ì¹¨)", desc: "ê³ ê¸°êµ­ìˆ˜. ìºì¹˜í…Œì´ë¸” ëŒ€ê¸° í™•ì¸ í•„ìˆ˜.", lat: 33.5050, lng: 126.4950, type: "meal", navi: "ìë§¤êµ­ìˆ˜ë³¸ì ", dist: "5km", dur: "15ë¶„", detail: "ìºì¹˜í…Œì´ë¸”ë¡œ ë¯¸ë¦¬ ì¤„ì„œê¸° í™•ì¸" },
            { day: 1, time: "10:30", title: "í´ë­ë¸”ë£¨ (ì¹´í˜)", desc: "ì‹ ì°½í’ì°¨í•´ì•ˆë„ë¡œ ë“œë¼ì´ë¸Œ & ì»¤í”¼.", lat: 33.3450, lng: 126.1700, type: "cafe", navi: "í´ë­ë¸”ë£¨", dist: "35km", dur: "50ë¶„" , detail: "2ì¸µ í†µì°½ ì¸ìƒìƒ· (ì—­ê´‘ ì£¼ì˜)" },
            { day: 1, time: "12:30", title: "ì¶˜ì‹¬ì´ë„¤ (ì ì‹¬)", desc: "í†µê°ˆì¹˜êµ¬ì´ 2ì¸ ì„¸íŠ¸. ì§ì›ì´ ë¼ˆ ë°œë¼ì¤Œ.", lat: 33.2500, lng: 126.3300, type: "meal", navi: "ì¶˜ì‹¬ì´ë„¤ë³¸ì ", dist: "14km", dur: "25ë¶„", detail: "ì˜ìˆ˜ì¦ ì§€ì°¸ì‹œ 2ì¸µ ì´ˆì½œë¦¿ ë¬´ë£Œ" },
            { day: 1, time: "14:00", title: "ì›ì•¤ì˜¨ë¦¬ (ì¹´í˜)", desc: "ì‚°ë°©ì‚° ë°°ì‚°ì„ìˆ˜ ë·°. ì•¼ì™¸ í…Œë¼ìŠ¤ ì¶”ì²œ.", lat: 33.2392, lng: 126.3195, type: "cafe", navi: "ì›ì•¤ì˜¨ë¦¬", dist: "5km", dur: "10ë¶„", detail: "ì‚¬ëŒ ë§ìœ¼ë©´ í…Œì´í¬ì•„ì›ƒ í›„ í•´ë³€ ì‚°ì±…" },
            { day: 1, time: "15:00", title: "ì†¡ì•…ì‚° ë‘˜ë ˆê¸¸", desc: "ì ˆë²½ ë·° íŠ¸ë ˆí‚¹. ì†Œìš” 1ì‹œê°„. ê²½ì¹˜ ì˜ˆìˆ .", lat: 33.1994, lng: 126.2908, type: "tour", navi: "ì†¡ì•…ì‚°ì£¼ì°¨ì¥", dist: "6km", dur: "12ë¶„", detail: "ë°”ëŒ ê°•í•¨! ë°”ëŒë§‰ì´ í•„ìˆ˜ ì°©ìš©" },
            { day: 1, time: "16:20", title: "ì¹´ë©œë¦¬ì•„í", desc: "11ì›” ë™ë°±ê½ƒ ì¶•ì œ. ì¼ëª° ì „ ì‚¬ì§„ ì´¬ì˜.", lat: 33.2872, lng: 126.3705, type: "tour", navi: "ì¹´ë©œë¦¬ì•„í", dist: "15km", dur: "25ë¶„", detail: "í°ìƒ‰/ë°ì€ìƒ‰ ì˜·ì´ ì‚¬ì§„ ì˜ ë‚˜ì˜´" },
            { day: 1, time: "17:40", title: "ë”ë³¸í˜¸í…” ì²´í¬ì¸", desc: "ì²´í¬ì¸ í›„ **10ì‹œ ì—°ëˆ ì˜ˆì•½ ì„±ê³µ ì—¬ë¶€** í™•ì¸.", lat: 33.2595, lng: 126.4061, type: "fixed", navi: "í˜¸í…”ë”ë³¸ì œì£¼", dist: "8km", dur: "15ë¶„", detail: "ì›°ì»´ì¿ í°ë¶(ë¹½ë‹¤ë°© ë¹µ) ê¼­ ì±™ê¸°ê¸°" },
            { day: 1, time: "19:00", title: "ì—°ëˆ (ì €ë…)", desc: "ì˜¤ì „ 10ì‹œ í˜„ì¥ ì˜ˆì•½ ì„±ê³µ ì‹œ ì‹ì‚¬. ì‹¤íŒ¨ ì‹œ ë‹¤ë¥¸ ê³³.", lat: 33.2595, lng: 126.4061, type: "meal", navi: "ì—°ëˆ", dist: "ë„ë³´", dur: "1ë¶„", detail: "ì‹¤íŒ¨ì‹œ: ë°”ë¡œ ì˜† ì—°ëˆë³¼ì¹´ì¸  í¬ì¥ ì¹˜ë§¥" },

            // Day 2
            { day: 2, time: "07:00", title: "íƒëª¨ë¼ (ì¡°ì‹)", desc: "í˜¸í…” ì§€í•˜ 1ì¸µ. 06:50 ì˜¤í”ˆëŸ° ì¶”ì²œ.", lat: 33.2595, lng: 126.4061, type: "meal", dist: "-", dur: "-" , detail: "ìŒ€êµ­ìˆ˜ & ìˆ˜ì œí–„ ê³µëµ" },
            { day: 2, time: "09:00", title: "íœ´ì• ë¦¬", desc: "ë™ë°± & í‘ë¼ì§€ ì‡¼(10ì‹œ). ê°ê·¤ ë”°ê¸°.", lat: 33.2830, lng: 126.6330, type: "tour", navi: "íœ´ì• ë¦¬ìì—°ìƒí™œê³µì›", dist: "25km", dur: "40ë¶„", detail: "í‘ë¼ì§€ ì‡¼ ì‹œê°„ ë§ì¶° ì´ë™" },
            { day: 2, time: "10:50", title: "ê·¤ê½ƒë‹¤ë½ (ì¹´í˜)", desc: "ëŒì°½ê³  ê°ì„± ì¹´í˜. ê·¤ë°­ í¬í† ì¡´.", lat: 33.2685, lng: 126.6300, type: "cafe", navi: "ê·¤ê½ƒë‹¤ë½", dist: "5km", dur: "10ë¶„", detail: "ë³¸ê´€ ê±°ìš¸ìƒ· & ë³„ê´€ì´ ì¡°ìš©í•¨" },
            { day: 2, time: "12:00", title: "ìš©ëˆˆì´ì˜¤ë¦„", desc: "ì™„ë§Œí•œ ê²½ì‚¬. ì •ìƒ ë·° íƒì›”.", lat: 33.4340, lng: 126.8430, type: "tour", navi: "ìš©ëˆˆì´ì˜¤ë¦„ì£¼ì°¨ì¥", dist: "23km", dur: "35ë¶„" , detail: "ì •ìƒ ë°”ëŒ ì£¼ì˜" },
            { day: 2, time: "13:00", title: "ë‚­ëœ°ì—ì‰¼íŒ¡ (ì ì‹¬)", desc: "ì† í¸í•œ ìŒˆë°¥ ì •ì‹.", lat: 33.4500, lng: 126.6750, type: "meal", navi: "ë‚­ëœ°ì—ì‰¼íŒ¡", dist: "12km", dur: "20ë¶„", detail: "ê³ ë“±ì–´êµ¬ì´ ì¶”ê°€ ì¶”ì²œ" },
            { day: 2, time: "14:10", title: "ì—ì½”ëœë“œ", desc: "ê¸°ì°¨ íƒ€ê³  ê³¶ìì™ˆ ìˆ² íë§.", lat: 33.4550, lng: 126.6700, type: "tour", navi: "ì—ì½”ëœë“œí…Œë§ˆíŒŒí¬", dist: "3km", dur: "5ë¶„", detail: "ë ˆì´í¬ì‚¬ì´ë“œì—­ í’ì°¨ ë°°ê²½ ì´¬ì˜" },
            { day: 2, time: "15:50", title: "ì¹´í˜ ë¸ë¬¸ë„", desc: "í•¨ë• ë°”ë‹¤ ìœ„ ì¹´í˜.", lat: 33.5431, lng: 126.6690, type: "cafe", navi: "ì¹´í˜ë¸ë¬¸ë„", dist: "10km", dur: "15ë¶„", detail: "ì•¼ì™¸ í…Œë¼ìŠ¤ ìë¦¬ ì„ ì  í•„ìˆ˜" },
            { day: 2, time: "16:40", title: "ì˜ì¹´ ë°˜ë‚©", desc: "â˜…17:00 ë°˜ë‚© í•„ìˆ˜. ì£¼ìœ  í™•ì¸.", lat: 33.5080, lng: 126.4930, type: "fixed", navi: "ì˜ì¹´ìŠ¤í…Œì´ì…˜ì œì£¼", dist: "22km", dur: "40ë¶„", detail: "ê¸ˆìš”ì¼ í‡´ê·¼ê¸¸ ì •ì²´ ê³ ë ¤" },
            { day: 2, time: "17:30", title: "ê³µí•­ ì €ë…/ì‡¼í•‘", desc: "ë©´ì„¸ì  ì˜¤ë©”ê¸°ë–¡/ë§ˆìŒìƒŒë“œ í”½ì—….", lat: 33.5104, lng: 126.4913, type: "meal", dist: "ì…”í‹€", dur: "15ë¶„", detail: "ì˜¤ë©”ê¸°ë–¡/ë§ˆìŒìƒŒë“œ í”½ì—…"},
            { day: 2, time: "19:05", title: "ì²­ì£¼í–‰ ì¶œë°œ", desc: "TW836 (ìˆ˜ì† 18:25 ë§ˆê°).", lat: 33.5104, lng: 126.4913, type: "fixed", dist: "-", dur: "-" , detail: "íƒ‘ìŠ¹êµ¬ ë²ˆí˜¸ ì¬í™•ì¸" },
            { day: 2, time: "20:15", title: "ì²­ì£¼ê³µí•­ ë„ì°©", desc: "ì£¼ì°¨ ì •ì‚° í›„ ê·€ê°€.", lat: 36.7166, lng: 127.4991, type: "move", dist: "-", dur: "1ì‹œê°„ 10ë¶„", detail: "ì•ˆì „ ìš´ì „ ê·€ê°€" },
            { day: 2, time: "21:20", title: "ëŒ€ì „ ì§‘ ë„ì°©", desc: "ì•ˆì „ ê·€ê°€ ì™„ë£Œ.", lat: 36.3504, lng: 127.4370, type: "move", navi: "ëŒ€ì „ë³µí•©í„°ë¯¸ë„", dist: "45km", dur: "60ë¶„", detail: "ì§ ì •ë¦¬" }
        ];

        const PLACES = [
            { name: "ì—°ëˆ", type: "meal", main: "ë“±ì‹¬(1.1ë§Œ)/ì¹˜ì¦ˆ(1.5ë§Œ)", desc: "êµ­ë‚´ ìµœê³  ëˆê¹ŒìŠ¤ ì„±ì§€. â˜…ë‹¹ì¼ ì˜¤ì „ 10ì‹œ í˜„ì¥ í‚¤ì˜¤ìŠ¤í¬ ë“±ë¡â˜… í•„ìˆ˜.", tips: ["íˆ¬ìˆ™ê° ê¿€íŒ: ì•„ì¹¨ 9:30ì¯¤ ìŠ¬ë¦¬í¼ ì‹ ê³  ë‚˜ê°€ì„œ ì¤„ ì„œ ìˆë‹¤ê°€ ë“±ë¡í•˜ê³  ì˜¤ì„¸ìš”.", "ì¹´ë ˆ(5ì²œì›)ëŠ” ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜. ë°¥ ë¹„ë²¼ ë¨¹ìœ¼ë©´ ê·¹ë½.", "ì‹¤íŒ¨ì‹œ: ë°”ë¡œ ì˜† 'ì—°ëˆë³¼ì¹´ì¸ ' í¬ì¥í•´ì„œ í˜¸í…”ë°© ë§¥ì£¼ íŒŒí‹°."] },
            { name: "ìë§¤êµ­ìˆ˜", type: "meal", main: "ê³ ê¸°êµ­ìˆ˜(9,000ì›)", desc: "ê³µí•­ ê·¼ì²˜ 1í‹°ì–´. ì§„í•œ ì‚¬ê³¨ ìœ¡ìˆ˜ì™€ ì¹˜ìë©´.", tips: ["'ìºì¹˜í…Œì´ë¸”' ì•±ìœ¼ë¡œ ê³µí•­ ë„ì°©í•˜ìë§ˆì ëŒ€ê¸° ë“±ë¡í•˜ì„¸ìš”.", "ë¹„ë¹”êµ­ìˆ˜+ë”ë² ê³ ê¸°(ì†Œ) ì¡°í•©ì´ ì§„ë¦¬."] },
            { name: "í´ë­ë¸”ë£¨", type: "cafe", main: "ìš°ë„ë•…ì½©ë¼ë–¼(8.0)", desc: "í’ì°¨í•´ì•ˆë„ë¡œ ë·° ê°¤ëŸ¬ë¦¬. 2ì¸µ í†µì°½ì´ ì‹œê·¸ë‹ˆì²˜.", tips: ["2ì¸µ ì¤‘ì•™ í†µì°½ì€ í¬í† ì¡´(ì¢Œì„X)", "ì¼ëª° ì‹œê°„ëŒ€ ì—­ê´‘ ì‹¤ë£¨ì—£ ì‚¬ì§„ ëª…ì†Œ."] },
            { name: "ì¶˜ì‹¬ì´ë„¤ ë³¸ì ", type: "meal", main: "í†µê°ˆì¹˜êµ¬ì´ 2ì¸(8.9ë§Œ)", desc: "ì••ë„ì  í¬ê¸°. ì§ì›ì´ ìˆŸê°€ë½ìœ¼ë¡œ ë¼ˆë¥¼ ì™„ë²½ ë¶„í•´í•´ì¤Œ.", tips: ["ì‹ì‚¬ í›„ ì˜ìˆ˜ì¦ ì§€ì°¸ ì‹œ 2ì¸µ ì¹´í˜ ì´ˆì½œë¦¿ ë¬´ë£Œ.", "ê°ˆì¹˜ì¡°ë¦¼ì€ ë¼ˆê°€ ì—†ì–´ ì•„ì´ë“¤ë„ ë¨¹ê¸° í¸í•¨."] },
            { name: "ë”ë³¸í˜¸í…” íƒëª¨ë¼", type: "meal", main: "í˜¸í…” ë·”í˜(1.2ë§Œ/íˆ¬ìˆ™ê°)", desc: "ë°±ì¢…ì› í˜¸í…”ë‹¤ìš´ ê°€ì„±ë¹„ ëíŒì™• ì¡°ì‹.", tips: ["07:00 ì˜¤í”ˆëŸ° í•„ìˆ˜. 07:30 ë„˜ì–´ê°€ë©´ ëŒ€ê¸° ì¤„ ê¹ë‹ˆë‹¤.", "ìŒ€êµ­ìˆ˜ ì½”ë„ˆì™€ ìˆ˜ì œ í–„ ì½”ë„ˆëŠ” ê¼­ ê³µëµí•˜ì„¸ìš”."] },
            { name: "ë‚­ëœ°ì—ì‰¼íŒ¡", type: "meal", main: "ë‚­ëœ°ì •ì‹(14,000ì›)", desc: "í˜„ì§€ì¸ì´ ì°¾ëŠ” ê±´ê°• ìŒˆë°¥ì§‘. ìê·¹ì ì´ì§€ ì•Šì€ ë§›.", tips: ["ê³ ë“±ì–´êµ¬ì´(7ì²œì›) ì¶”ê°€í•˜ë©´ ì„ê¸ˆë‹˜ ìˆ˜ë¼ìƒ ì•ˆ ë¶€ëŸ¬ì›€.", "ì›¨ì´íŒ… ê¸°ê³„ ì—†ìŒ. ì¹´ìš´í„°ì—ì„œ ë²ˆí˜¸í‘œ ë°›ìœ¼ì„¸ìš”."] },
            { name: "ì¹´í˜ ë¸ë¬¸ë„", type: "cafe", main: "ë² ì´ì»¤ë¦¬, ì»¤í”¼", desc: "í•œêµ­ì˜ ëª°ë””ë¸Œ í•¨ë• ë°”ë‹¤ ë°”ë¡œ ìœ„.", tips: ["ì£¼ë¬¸ ì „ ì•¼ì™¸ í…Œë¼ìŠ¤ ìë¦¬ í™•ë³´.", "ë§ˆëŠ˜ë°”ê²ŒíŠ¸ ì¶”ì²œ."] },
            { name: "ì†¡ì•…ì‚° ë‘˜ë ˆê¸¸", type: "tour", main: "ë¬´ë£Œ (ì†Œìš” 1h 20m)", desc: "ì œì£¼ ì„œë‚¨ìª½ ë¹„ê²½. ì‚°ë°©ì‚°, í˜•ì œì„¬, ë§ˆë¼ë„ê°€ ë‹¤ ë³´ì„.", tips: ["ë°”ëŒì´ ì •ë§ ë§ì´ ë¶‘ë‹ˆë‹¤. ëª¨ì ë‚ ì•„ê° ì£¼ì˜.", "ì…êµ¬ ìŠ¤íƒ€ë²…ìŠ¤ì—ì„œ ìŒë£Œ ì‚¬ì„œ ì‚°ì±…í•˜ë©´ ê¿€ë§›."] },
            { name: "ì¹´ë©œë¦¬ì•„í", type: "tour", main: "ì„±ì¸ 10,000ì›", desc: "ë™ì–‘ ìµœëŒ€ ë™ë°± ìˆ˜ëª©ì›. 11ì›”ì€ ë™ë°± ì‹œì¦Œ.", tips: ["í°ìƒ‰/ì•„ì´ë³´ë¦¬ìƒ‰ ì˜· ì¶”ì²œ (ì‚¬ì§„ ì˜ ë‚˜ì˜´)", "ë„¤ì´ë²„ ì˜ˆë§¤ ì‹œ í• ì¸ (ë‹¹ì¼ ì‚¬ìš© ê°€ëŠ¥ í™•ì¸ í•„ìˆ˜)."] },
            { name: "íœ´ì• ë¦¬", type: "tour", main: "ì„±ì¸ 13,000ì›", desc: "ê³„ì ˆ ê½ƒ ì¶•ì œì™€ í‘ë¼ì§€ ì‡¼.", tips: ["ë§¤ì‹œ ì •ê° í‘ë¼ì§€ ì‡¼ ê´€ëŒ", "ê°ê·¤ ë”°ê¸° ì²´í—˜(ë³„ë„) ë´‰íˆ¬ ê½‰ ì±„ìš°ê¸°"] },
            { name: "ì—ì½”ëœë“œ", type: "tour", main: "ì„±ì¸ 16,000ì›", desc: "ê³¶ìì™ˆ ìˆ²ì† ê¸°ì°¨ ì—¬í–‰.", tips: ["ë©”ì¸ì—­â†’ë ˆì´í¬ì‚¬ì´ë“œâ†’í”¼í¬ë‹‰ê°€ë“  ìˆœ ì´ë™", "ë§‰ì°¨ ì‹œê°„ í™•ì¸"] }
        ];

        const GUIDES = [
            { icon:"fa-check-circle", color:"text-red-600", title:"ğŸš¨ ì—°ëˆ ì˜ˆì•½ ë°©ì‹ ë³€ê²½ (í•„ë…)", content: "<ul><li><strong>í˜„ì¥ ì ‘ìˆ˜:</strong> ì „ë‚  ì•± ì˜ˆì•½ì€ íì§€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¬´ì¡°ê±´ <strong>'ë‹¹ì¼ ì˜¤ì „ 10ì‹œ ë§¤ì¥ ì• ìºì¹˜í…Œì´ë¸” í‚¤ì˜¤ìŠ¤í¬'</strong> í˜„ì¥ ë“±ë¡ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li><li><strong>íˆ¬ìˆ™ê° ì „ëµ:</strong> í˜¸í…”ì´ ë°”ë¡œ ì˜†ì´ë‹ˆ, ì•„ì¹¨ 9ì‹œ 30ë¶„ì¯¤ ìŠ¬ë¦¬í¼ ì‹ ê³  ë‚˜ê°€ì„œ ì¤„ ì„œ ìˆë‹¤ê°€ ë“±ë¡í•˜ê³ , ë‹¤ì‹œ ë°©ì— ì™€ì„œ ì‰¬ê±°ë‚˜ ì¡°ì‹ì„ ë“œì„¸ìš”.</li><li><strong>ì…ì¥ ì•Œë¦¼:</strong> ì¹´í†¡ìœ¼ë¡œ 'ì§€ê¸ˆ ì…ì¥í•˜ì„¸ìš”' ì•Œë¦¼ì´ ì˜¤ë©´ 5ë¶„ ë‚´ë¡œ ê°€ì•¼ í•©ë‹ˆë‹¤. ì €ë… ì‹ì‚¬ ì‹œê°„ì„ ëŒ€ëµ ì˜ˆì¸¡í•˜ê³  ê·¼ì²˜(í˜¸í…” ë°©)ì— ê³„ì‹œëŠ” ê²Œ ì•ˆì „í•©ë‹ˆë‹¤.</li></ul>" },
            { icon:"fa-car", color:"text-green-600", title:"ğŸš— ë Œí„°ì¹´ & ìš´ì „ íŒ", content: "<ul><li><strong>ì˜ì¹´ ì…”í‹€:</strong> ê³µí•­ 1ì¸µ 5ë²ˆ ê²Œì´íŠ¸ ê±´ë„ˆí¸ 'ë Œí„°ì¹´í•˜ìš°ìŠ¤' <strong>5êµ¬ì—­ 12ë²ˆ</strong>ì…ë‹ˆë‹¤. (20ë¶„ ê°„ê²© ìš´í–‰)</li><li><strong>ìŠˆí¼ ìì°¨:</strong> ì¼ë°˜ ì™„ì „ìì°¨ëŠ” íƒ€ì´ì–´ í‘í¬, íœ  ê¸í˜, ì°¨ í‚¤ ë¶„ì‹¤, ê¸´ê¸‰ì¶œë™ ì„œë¹„ìŠ¤ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ëª‡ ë§Œì› ì•„ë¼ë ¤ë‹¤ í°ëˆ ë‚˜ê°‘ë‹ˆë‹¤. ë§ˆìŒ í¸í•˜ê²Œ <strong>'ìŠˆí¼ ìì°¨(í•œë„ ë¬´ì œí•œ)'</strong>ë¥¼ ê°•ë ¥ ì¶”ì²œí•©ë‹ˆë‹¤.</li><li><strong>íšŒì „êµì°¨ë¡œ ë£°:</strong> ì œì£¼ëŠ” ì‹ í˜¸ë“± ì—†ëŠ” íšŒì „êµì°¨ë¡œê°€ ë§ìŠµë‹ˆë‹¤. <strong>'ì´ë¯¸ ëŒê³  ìˆëŠ” íšŒì „ ì°¨ëŸ‰ì´ ë¬´ì¡°ê±´ ìš°ì„ '</strong>ì…ë‹ˆë‹¤. ì§„ì…í•˜ë ¤ëŠ” ì°¨ëŠ” ë¬´ì¡°ê±´ ë©ˆì¶”ê³  ì–‘ë³´í•´ì•¼ í•©ë‹ˆë‹¤. ë‚˜ê°ˆ ë•ŒëŠ” ìš°ì¸¡ ê¹œë¹¡ì´ë¥¼ ì¼œì£¼ì„¸ìš”.</li><li><strong>ë°˜ë‚© ì‹œê°„ ê³„ì‚°:</strong> 17:00 ë°˜ë‚©ì´ë©´, 16:50ì— ì˜ì¹´ì¡´ ë„ì°© -> ì…”í‹€ íƒ‘ìŠ¹ -> ê³µí•­ ë„ì°© 17:20 ì •ë„ì…ë‹ˆë‹¤. ê¸ˆìš”ì¼ ì €ë… ì œì£¼ì‹œë‚´(ë…¸í˜•ì˜¤ê±°ë¦¬)ëŠ” í‡´ê·¼ê¸¸ ì •ì²´ê°€ ì‹¬í•˜ë¯€ë¡œ, ë„¤ë¹„ ì˜ˆìƒ ì‹œê°„ë³´ë‹¤ 20~30ë¶„ ì—¬ìœ  ìˆê²Œ ì¶œë°œí•˜ì„¸ìš”.</li></ul>" },
            { icon:"fa-plane", color:"text-blue-600", title:"âœˆï¸ ê³µí•­ ì´ìš©: ì‹œê°„ ì ˆì•½ ë¹„ë²•", content: "<ul><li><strong>ë°”ì´ì˜¤ ë“±ë¡ (í”„ë¦¬íŒ¨ìŠ¤):</strong> ì²­ì£¼ê³µí•­ 2ì¸µ ë“±ë¡ëŒ€ì—ì„œ ì‹ ë¶„ì¦ê³¼ í•¨ê»˜ ì†ë°”ë‹¥ ì •ë§¥ì„ ë“±ë¡í•˜ì„¸ìš”. ì œì£¼ ê°ˆ ë•Œ, ì˜¬ ë•Œ ì‹ ë¶„ì¦ êº¼ë‚¼ í•„ìš” ì—†ì´ ì „ìš© ê²Œì´íŠ¸ë¡œ 1ì´ˆ ë§Œì— í†µê³¼í•©ë‹ˆë‹¤. ì¤„ ì„¤ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</li><li><strong>ëª¨ë°”ì¼ ì²´í¬ì¸ ì „ìŸ:</strong> ì¶œë°œ 24ì‹œê°„ ì „ ì¹´í†¡ ì•Œë¦¼ ì˜¤ë©´ ì¦‰ì‹œ ì ‘ì†í•˜ì„¸ìš”! <strong>ì•ìª½ ì¢Œì„(1~5ì—´)</strong>ì„ ì„ ì í•´ì•¼ ì œì£¼ ë„ì°© í›„ ë¹„í–‰ê¸°ì—ì„œ ë¹¨ë¦¬ ë‚´ë ¤ ë Œí„°ì¹´ ì…”í‹€ë²„ìŠ¤ê¹Œì§€ 1ë“±ìœ¼ë¡œ ëœë‹ˆë‹¤. ì§ ì°¾ì„ ê²Œ ì—†ë‹¤ë©´ ë” ë¹ ë¦…ë‹ˆë‹¤.</li><li><strong>ê¸°ë‚´ ë°˜ì… ê¸ˆì§€í’ˆ:</strong> ë³´ì¡°ë°°í„°ë¦¬, íœ´ëŒ€ìš© ì„ í’ê¸°, ì „ìë‹´ë°°, ë¼ì´í„°ëŠ” ìœ„íƒìˆ˜í•˜ë¬¼(ë¶€ì¹˜ëŠ” ì§) ì ˆëŒ€ ê¸ˆì§€! <strong>ë¬´ì¡°ê±´ ê¸°ë‚´ íœ´ëŒ€ ê°€ë°©</strong>ì— ë„£ìœ¼ì„¸ìš”. (ì´ê±° ë•Œë¬¸ì— ì§ ê²€ì‚¬ ê±¸ë ¤ì„œ ë°©ì†¡ ë‚˜ì˜¤ëŠ” ì‚¬ëŒ ì •ë§ ë§ìŠµë‹ˆë‹¤)</li></ul>" },
            { icon:"fa-camera", color:"text-pink-600", title:"ğŸ“¸ 11ì›” ì œì£¼ ë‚ ì”¨ & ì˜·ì°¨ë¦¼", content: "<ul><li><strong>ë°”ëŒê³¼ì˜ ì „ìŸ:</strong> ê¸°ì˜¨ì€ 15ë„ë¡œ ë”°ëœ»í•´ ë³´ì—¬ë„ ë°”ëŒ ë¶ˆë©´ ì²´ê° 5ë„ì…ë‹ˆë‹¤. ë‘êº¼ìš´ íŒ¨ë”©ë³´ë‹¤ëŠ” <strong>'ê²½ëŸ‰ íŒ¨ë”© ì¡°ë¼'</strong>ë‚˜ 'ë°”ëŒë§‰ì´'ë¥¼ ì—¬ëŸ¬ ê²¹ ì…ëŠ” ê²Œ í™œë™í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.</li><li><strong>ì¸ìƒìƒ· ìƒ‰ê° ë§¤ì¹˜:</strong> <br>- ì¹´ë©œë¦¬ì•„í(ë™ë°±ê½ƒ): ë¶‰ì€ ê½ƒê³¼ ëŒ€ë¹„ë˜ëŠ” <strong>í°ìƒ‰, ì•„ì´ë³´ë¦¬ìƒ‰</strong> ë‹ˆíŠ¸ë‚˜ ì½”íŠ¸.<br>- ê·¤ë°­/ì˜¤ë¦„: <strong>ë² ì´ì§€ìƒ‰, ì—°í•œ ê°ˆìƒ‰, ì¹´í‚¤ìƒ‰</strong> ê³„ì—´ì´ ê°€ì„/ê²¨ìš¸ ì œì£¼ ê°ì„±ê³¼ ì°°ë–¡ì…ë‹ˆë‹¤.<br>- ë°”ë‹¤: ì¨í•œ <strong>íŒŒë€ìƒ‰</strong>ì´ë‚˜ ì›ìƒ‰ ê³„ì—´ì´ ì‚¬ì§„ ì˜ ë‚˜ì˜µë‹ˆë‹¤.</li><li><strong>ì‚¼ê°ëŒ€ ì£¼ì˜:</strong> ë‹¤ì´ì†Œ 5ì²œì›ì§œë¦¬ ê°€ë²¼ìš´ ì‚¼ê°ëŒ€ëŠ” ì œì£¼ ë°”ëŒì— 100% ë„˜ì–´ì§‘ë‹ˆë‹¤. íŠ¼íŠ¼í•œ ê±¸ ì±™ê¸°ê±°ë‚˜ ê°€ë°©ì„ ê±¸ì–´ì„œ ë¬´ê²Œì¤‘ì‹¬ì„ ë‚®ì¶”ì„¸ìš”.</li></ul>" },
            { icon:"fa-gift", color:"text-purple-600", title:"ğŸ ì‡¼í•‘ & ë¨¹ê±°ë¦¬: í˜¸ê°± íƒˆì¶œ", content: "<ul><li><strong>ì´ˆì½œë¦¿ì˜ ì§„ì‹¤:</strong> ì‹œì¥ì—ì„œ 'OOì´ˆì½œë¦¿' 10ë°•ìŠ¤ ë§Œì› í•˜ëŠ” ê±´ ì½”ì½”ì•„ í•¨ëŸ‰ì´ ë‚®ì€ ê°€ì§œ ì´ˆì½œë¦¿(ì¤€ì´ˆì½œë¦¿)ì…ë‹ˆë‹¤. ëˆ ì¢€ ë” ì£¼ë”ë¼ë„ <strong>'ì œì£¼ ë¦¬ì–¼ íƒ€ë¥´íŠ¸'</strong>ë‚˜ <strong>'ê³¼ì¦(ê°ê·¤í•œê³¼)'</strong>ì„ ì‚¬ì„¸ìš”. íšŒì‚¬ ì„ ë¬¼ìš©ìœ¼ë¡œ ë°˜ì‘ í›¨ì”¬ ì¢‹ìŠµë‹ˆë‹¤.</li><li><strong>ì˜¤ë©”ê¸°ë–¡ êµ¬ë§¤:</strong> ë‚±ê°œ í¬ì¥ëœ <strong>'ëƒ‰ë™ ì˜¤ë©”ê¸°ë–¡'</strong>ì„ ì‚¬ì•¼ ì§‘ì— ê°€ì„œë„ í•´ë™í•´ ë¨¹ê¸° í¸í•©ë‹ˆë‹¤. ê³µí•­ ìˆ˜ë ¹ ê°€ëŠ¥í•œ ë–¡ì§‘(ì§„ì•„ë–¡ì§‘, ì˜¤ë³µë–¡ ë“±)ì— ë¯¸ë¦¬ ì „í™” ì˜ˆì•½í•˜ë©´ ì¶œêµ­ì¥ ì•ì—ì„œ ë°”ë¡œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li><li><strong>ë§ˆìŒìƒŒë“œ:</strong> íŒŒë¦¬ë°”ê²ŒíŠ¸ ì•±ìœ¼ë¡œ <strong>3ì¼ ì „ ì˜ˆì•½</strong> ê°€ëŠ¥í•©ë‹ˆë‹¤. í˜„ì¥ ì¤„ ì„œì§€ ë§ê³  ì œì£¼ê³µí•­ ë Œí„°ì¹´í•˜ìš°ìŠ¤ì ì—ì„œ í”½ì—…í•˜ì„¸ìš”.</li><li><strong>íšŒ í¬ì¥ ê¿€íŒ:</strong> ë™ë¬¸ì‹œì¥ ì•¼ì‹œì¥ì€ ì‚¬ëŒì´ ë„ˆë¬´ ë§ì•„ ê¸° ë¹¨ë¦½ë‹ˆë‹¤. ìˆ™ì†Œ(ë”ë³¸í˜¸í…”) ê·¼ì²˜ <strong>'ì¤‘ë¬¸ í•˜ë‚˜ë¡œë§ˆíŠ¸' íšŒ ì½”ë„ˆ</strong>ê°€ ê°€ì„±ë¹„ì™€ ì‹ ì„ ë„ ëª¨ë‘ í›Œë¥­í•©ë‹ˆë‹¤.</li></ul>" },
            { icon:"fa-kit-medical", color:"text-red-500", title:"ğŸ¥ ë¹„ìƒ ìƒí™© ëŒ€ì²˜", content: "<ul><li><strong>ì•½êµ­:</strong> ì‹œë‚´ ë²—ì–´ë‚˜ë©´ ì•½êµ­ ì°¾ê¸° í˜ë“­ë‹ˆë‹¤. ì†Œí™”ì œ, ì§„í†µì œ, ë°´ë“œ ë¯¸ë¦¬ ì±™ê¸°ì„¸ìš”.</li><li><strong>ì‘ê¸‰ì‹¤:</strong> ì„œê·€í¬ ì˜ë£Œì›(ë‚¨ìª½), ì œì£¼ëŒ€í•™êµë³‘ì›/í•œë¼ë³‘ì›(ë¶ìª½).</li><li><strong>ì½œíƒì‹œ:</strong> ì¹´ì¹´ì˜¤T ì•ˆ ì¡í ë•Œ 'ì œì£¼ ì½œíƒì‹œ(064-711-8282)' ì´ìš©.</li></ul>" },
            { icon:"fa-road", color:"text-gray-600", title:"âš ï¸ ì•¼ê°„ ìš´ì „ ì£¼ì˜", content: "<ul><li><strong>ì¤‘ì‚°ê°„ ë„ë¡œ:</strong> 1100ë„ë¡œë‚˜ 516ë„ë¡œëŠ” ë°¤ì— ê°€ë¡œë“±ì´ ì—†ê³  ì•ˆê°œê°€ ìì£¼ ë‚ë‹ˆë‹¤. ì´ˆë³´ìš´ì „ìëŠ” ì•¼ê°„ì— í•´ì•ˆë„ë¡œë‚˜ ì¼ì£¼ë„ë¡œë¥¼ ì´ìš©í•˜ì„¸ìš”.</li><li><strong>ë¡œë“œí‚¬:</strong> ë°¤ì—ëŠ” ë…¸ë£¨ë‚˜ ê³ ë¼ë‹ˆê°€ íŠ€ì–´ë‚˜ì˜µë‹ˆë‹¤. ê·œì • ì†ë„ ì¤€ìˆ˜ í•„ìˆ˜.</li></ul>" },
            { icon:"fa-umbrella", color:"text-blue-400", title:"â˜” ë¹„ ì˜¬ ë•Œ í”Œëœ B", content: "<ul><li><strong>ì‹¤ë‚´ ì¶”ì²œ:</strong> ì•„ë¥´ë–¼ë®¤ì§€ì—„(ì„œìª½), ë¹›ì˜ ë²™ì»¤(ë™ìª½), ì•„ì¿ ì•„í”Œë¼ë„·(ë™ìª½), ì—¬ë¯¸ì§€ì‹ë¬¼ì›(ì¤‘ë¬¸).</li><li><strong>ìˆ²ê¸¸:</strong> ë¹„ìë¦¼ì´ë‚˜ ì‚¬ë ¤ë‹ˆìˆ²ê¸¸ì€ ë¹„ ì˜¤ëŠ” ë‚  ìš´ì¹˜ê°€ ë” ì¢‹ìŠµë‹ˆë‹¤. (ìš°ë¹„ í•„ìˆ˜)</li></ul>" }
        ];

        const COST_DATA = [
            { cat: "ì‚¬ì „ ê²°ì œ", items: [{n:'í•­ê³µë£Œ (ì™•ë³µ 3ì¸)', v: 505200}, {n:'ìˆ™ë°• (ë”ë³¸ 1ë°•)', v: 166000}, {n:'ë Œí„°ì¹´ (EV3/ìì°¨)', v: 157610}] },
            { cat: "í˜„ì¥ ì‹ë¹„ (ì˜ˆìƒ)", items: [{n:'ìë§¤êµ­ìˆ˜ (3ì¸)', v: 30000}, {n:'ì¶˜ì‹¬ì´ë„¤ (2ì¸ì„¸íŠ¸+@)', v: 110000}, {n:'ì—°ëˆ (ëˆê¹ŒìŠ¤+ì¹´ë ˆ)', v: 60000}, {n:'íƒëª¨ë¼ ì¡°ì‹ (í• ì¸)', v: 36000}, {n:'ë‚­ëœ°ì—ì‰¼íŒ¡', v: 50000}, {n:'ê³µí•­ ì €ë…', v: 40000}, {n:'ì¹´í˜ 4ê³³', v: 120000}] },
            { cat: "ì…ì¥ë£Œ/ê¸°íƒ€", items: [{n:'ì¹´ë©œë¦¬ì•„í (3ì¸)', v: 30000}, {n:'íœ´ì• ë¦¬ (3ì¸)', v: 39000}, {n:'ì—ì½”ëœë“œ (3ì¸)', v: 48000}, {n:'ì£¼ìœ /ì¡ë¹„', v: 30000}] }
        ];

        // --- ë¡œì§ ---
        let map, currentTab = 'timeline';

        // ë‚ ì”¨ API (ID ìˆ˜ì • ë° ì•ˆì •í™”)
        async function fetchWeather() {
            try {
                const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=33.49&longitude=126.53&current_weather=true&hourly=temperature_2m,weathercode,windspeed_10m&timezone=Asia%2FTokyo');
                const data = await res.json();
                const cur = data.current_weather;
                
                let icon = '<i class="fas fa-sun text-yellow-400"></i>';
                let status = "ë§‘ìŒ";
                if(cur.weathercode > 3) { icon = '<i class="fas fa-cloud text-slate-200"></i>'; status = "íë¦¼"; }
                if(cur.weathercode > 50) { icon = '<i class="fas fa-umbrella text-blue-300"></i>'; status = "ë¹„"; }

                const el = document.getElementById('weather-widget');
                if(el) {
                    el.innerHTML = `
                        <div class="weather-main">${icon} ${Math.round(cur.temperature)}Â°C</div>
                        <div class="weather-sub">${status}, ë°”ëŒ ${cur.windspeed}m/s</div>
                        <div class="forecast-row">
                            <div>27(ëª©): ğŸŒ¤ï¸ 13Â°/19Â°</div>
                            <div>28(ê¸ˆ): â˜ï¸ 12Â°/17Â°</div>
                        </div>
                    `;
                }
            } catch(e) {
                console.log("Weather Error");
            }
        }

        // ì‹œê³„ & D-Day
        function updateClock() {
            const now = new Date();
            
            // ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ (ì˜¤ëŠ˜ì„ 2025.11.20ìœ¼ë¡œ ê°€ì •)
            const isSimul = true; 

            // D-DAY ê³„ì‚°
            const tripDate = new Date('2025-11-27T00:00:00');
            const diff = Math.ceil((tripDate - now) / (1000 * 60 * 60 * 24));
            
            let dDayText = diff > 0 ? `D-${diff}` : (diff === 0 ? "Day 1" : (diff === -1 ? "Day 2" : "ì—¬í–‰ì¢…ë£Œ"));

            const dDayEl = document.getElementById('d-day');
            if(dDayEl) dDayEl.innerText = dDayText;
            
            const clockEl = document.getElementById('clock');
            if(clockEl) clockEl.innerText = `${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;
            
            const dateEl = document.getElementById('date');
            if(dateEl) dateEl.innerText = `${now.getMonth()+1}.${now.getDate()} (${['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '][now.getDay()]})`;
            
            if(currentTab === 'timeline') highlightTimeline(now, diff);
        }

        function highlightTimeline(now, diff) {
            const curTime = now.getHours() * 100 + now.getMinutes();
            // ë°ëª¨: ì˜¤ëŠ˜ì´ ì—¬í–‰ë‚ ì§œê°€ ì•„ë‹ˆë©´ Day 1ìœ¼ë¡œ ê°€ì •í•˜ê³  í•˜ì´ë¼ì´íŠ¸
            // ì‹¤ì œ ì‚¬ìš© ì‹œì—ëŠ” diff === 0 (Day1), diff === -1 (Day2) ì²´í¬
            let targetDay = (diff === 0) ? 1 : ((diff === -1) ? 2 : 1); 

            document.querySelectorAll('.timeline-row').forEach(row => {
                row.classList.remove('active-now');
                const idParts = row.id.split('-');
                if(idParts.length < 3) return;
                const d = parseInt(idParts[1]);
                const t = parseInt(idParts[2]);
                
                if (d === targetDay && curTime >= t && curTime < t + 100) {
                    row.classList.add('active-now');
                    // ìŠ¤í¬ë¡¤ ìë™ ì´ë™ (ì„ íƒì )
                    // row.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            });
        }

        function flyTo(lat, lng) {
            window.scrollTo({ top: 0, behavior: 'smooth' });
            map.flyTo([lat, lng], 14, { duration: 1.5 });
        }
        
        function openNavi(name) {
            if(!name) return;
            //const url = `https://m.map.naver.com/search2/search.naver?query=${encodeURIComponent(name)}`;
 	    const isMobile = /Android|iPhone/i.test(navigator.userAgent);
            const url = isMobile ? `https://m.map.naver.com/search2/search.naver?query=${name}` : `https://map.naver.com/v5/search/${name}`;

            window.open(url, '_blank');
        }

        function switchTab(tab, el) {
            currentTab = tab;
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
            const con = document.getElementById('tab-content');
            con.innerHTML = '';
            
            if(tab === 'timeline') renderTimeline(con);
            if(tab === 'food') renderFood(con);
            if(tab === 'tips') renderGuides(con);
            if(tab === 'cost') renderCost(con);
            window.scrollTo(0, 0);
        }

        // --- ë Œë”ë§ í•¨ìˆ˜ ---
        function renderTimeline(container) {
            let html = `<div class="pb-4">`;
            [0, 1, 2].forEach(day => {
                if(day === 0) {
                    html += `<div class="timeline-group"><div class="day-header" style="border-color:#94A3B8; color:#64748B;">Day 0 (ì¤€ë¹„)</div>`;
                } else {
                    html += `<div class="timeline-group"><div class="day-header">Day ${day} ${day===1?'(ì„œìª½)':'(ë™ìª½)'}</div>`;
                }
                
                const items = SCHEDULE.filter(s => s.day === day);
                items.forEach((item) => {
                    // Time ID generation
                    let tVal = 9999;
                    if(item.time && item.time.includes(':')) {
                        tVal = parseInt(item.time.replace(':',''));
                    }
                    
                    let rightInfo = '';
                    if(item.dist !== '-' && item.dist) {
                        rightInfo = `<div class="move-badge"><i class="fas fa-car text-xs"></i> ${item.dist} / ${item.dur}</div>`;
                    }

                    html += `
                        ${rightInfo}
                        <div class="timeline-item" id="t-${day}-${tVal}" onclick="flyTo(${item.lat}, ${item.lng})">
                            <div class="tl-time-col"><span class="tl-time">${item.time}</span></div>
                            <div class="tl-line-col"><div class="tl-dot"></div><div class="tl-line"></div></div>
                            <div class="tl-content">
                                <div class="place-card">
                                    <div class="place-title">
                                        <span>${item.title}</span>
                                        ${item.navi ? `<button class="btn-navi" onclick="openNavi('${item.navi}'); event.stopPropagation();">â†— ê¸¸ì°¾ê¸°</button>` : ''}
                                    </div>
                                    <div class="place-desc">${item.desc}</div>
                                    ${item.detail ? `<div class="expert-tip"><strong>Tip:</strong> ${item.detail}</div>` : ''}
                                </div>
                            </div>
                        </div>
                    `;
                });
                html += `</div>`;
            });
            html += `</div>`;
            container.innerHTML = html;
            updateClock();
        }

        function renderFood(container) {
            let html = `<div class="pb-4 space-y-4">`;
            PLACES.forEach(p => {
                const isTour = p.type === 'tour';
                const btn1 = isTour ? 'ê´€ëŒ í›„ê¸°' : 'ì†”ì§ í›„ê¸°';
                const btn2 = isTour ? 'ì…ì¥ë£Œ/ì‹œê°„' : 'ë©”ë‰´íŒ ë³´ê¸°';
                const url1 = `https://search.naver.com/search.naver?where=blog&query=${encodeURIComponent("ì œì£¼ "+p.name+" ì†”ì§í›„ê¸°")}`;
                const url2 = `https://m.search.naver.com/search.naver?query=${encodeURIComponent("ì œì£¼ "+p.name+" ë©”ë‰´")}`;
                const tagClass = isTour ? 'tag-tour' : (p.type === 'cafe' ? 'tag-cafe' : 'tag-food');
                const typeName = isTour ? 'ê´€ê´‘ì§€' : (p.type === 'cafe' ? 'ì¹´í˜' : 'ë§›ì§‘');
                const mainLabel = isTour ? 'ê´€ëŒ í¬ì¸íŠ¸' : 'ëŒ€í‘œ ë©”ë‰´';
                
                html += `
                    <div class="info-card">
                        <div class="detail-header">
                            <div><span class="tag ${tagClass}">${typeName}</span><h3 class="text-xl font-black text-slate-800">${p.name}</h3></div>
                        </div>
                        <div class="text-sm mb-3"><span class="font-bold text-teal-700">â˜… ${mainLabel}:</span> ${p.main}</div>
                        <p class="text-sm text-slate-600 mb-4 bg-slate-50 p-3 rounded-lg">${p.desc}</p>
                        <div class="mb-4">
                            <div class="text-xs font-bold text-amber-600 mb-1"><i class="fas fa-star"></i> ì „ë¬¸ê°€ Tip</div>
                            <ul class="list-disc pl-4 text-xs text-slate-500 space-y-1">${p.tips.map(t => `<li>${t}</li>`).join('')}</ul>
                        </div>
                        <div class="btn-group">
                            <a href="${url1}" target="_blank" class="btn-action btn-outline"><i class="fas fa-search"></i> ${btn1}</a>
                            <a href="${url2}" target="_blank" class="btn-action btn-green"><i class="fas fa-book-open"></i> ${btn2}</a>
                        </div>
                    </div>`;
            });
            html += `</div>`;
            container.innerHTML = html;
        }

        function renderGuides(container) {
            let html = `<div class="space-y-4 pb-4">`;
            GUIDES.forEach((g, idx) => {
                html += `
                    <div class="guide-card">
                        <div class="guide-header" onclick="document.getElementById('g-${idx}').classList.toggle('open')">
                            <div class="flex items-center gap-3"><div class="guide-icon"><i class="fas ${g.icon}"></i></div><span>${g.title}</span></div>
                            <i class="fas fa-chevron-down text-slate-300"></i>
                        </div>
                        <div id="g-${idx}" class="guide-body open">${g.content}</div>
                    </div>
                `;
            });
            html += `</div>`;
            container.innerHTML = html;
        }

        function renderCost(container) {
            const fmt = n => n.toLocaleString();
            let total = 0;
            let html = `<div class="space-y-6 pb-4"><div class="info-card"><h3 class="text-lg font-black text-teal-800 mb-4">ğŸ’° 3ì¸ ê°€ì¡± ìƒì„¸ ê²¬ì </h3>`;
            
            COST_DATA.forEach(group => {
                let subTotal = 0;
                html += `<div class="mb-4"><div class="text-xs font-bold text-slate-400 mb-2 uppercase tracking-wider border-b pb-1">${group.cat}</div>`;
                group.items.forEach(item => {
                    subTotal += item.v;
                    html += `<div class="cost-row"><span>${item.n}</span><span class="font-bold">${fmt(item.v)}</span></div>`;
                });
                html += `<div class="text-right text-xs font-bold text-slate-500 mt-1">ì†Œê³„: ${fmt(subTotal)}ì›</div></div>`;
                total += subTotal;
            });
            
            html += `<div class="cost-total"><span>ì´ í•©ê³„</span><span>${fmt(total)}ì›</span></div><div class="text-right text-xs text-slate-400 mt-1">1ì¸ë‹¹ ì•½ ${fmt(Math.round(total/3))}ì›</div></div>`;
            
            html += `<div class="info-card"><h3 class="text-lg font-black text-teal-800 mb-4">âœ… ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸</h3><div class="space-y-2">
                ${['ì‹ ë¶„ì¦ (ì „ì› í•„ìˆ˜)', 'ìš´ì „ë©´í—ˆì¦', 'ì¶©ì „ê¸°/ë³´ì¡°ë°°í„°ë¦¬', 'ë°”ëŒë§‰ì´/ê²½ëŸ‰íŒ¨ë”©', 'ë¹„ìƒì•½', 'ì‚¼ê°ëŒ€'].map(i => `
                <div class="check-item" onclick="this.classList.toggle('checked')"><i class="fas fa-check-circle check-icon"></i> <span class="check-text font-bold text-slate-700 text-sm">${i}</span></div>`).join('')}
            </div></div></div>`;
            
            container.innerHTML = html;
        }

        // ì´ˆê¸°í™”
        map = L.map('map', { zoomControl: false }).setView([33.38, 126.55], 10);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
        const latlngs = SCHEDULE.filter(s=>s.lat).map(s=>[s.lat, s.lng]);
        L.polyline(latlngs.slice(2, 13), { color: '#0F766E', weight: 4 }).addTo(map); 
        L.polyline(latlngs.slice(13), { color: '#F59E0B', weight: 4, dashArray: '5, 10' }).addTo(map);
        SCHEDULE.forEach(s => {
             if(s.lat) L.circleMarker([s.lat, s.lng], {radius:5, color:'#F59E0B', fillOpacity:1}).addTo(map);
        });

        fetchWeather();
        setInterval(updateClock, 1000);
        updateClock();
        renderTimeline(document.getElementById('tab-content'));

    </script>
</body>
</html>
